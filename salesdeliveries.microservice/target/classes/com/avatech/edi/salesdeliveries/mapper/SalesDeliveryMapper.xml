<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.avatech.edi.salesdeliveries.mapper.SalesDeliveryMapper">

         <resultMap id="SalesDeliveryMap" type="com.avatech.edi.salesdeliveries.model.bo.salesdelivery.SalesDelivery">
                    <result column="DocEntry" property="docEntry" jdbcType="INTEGER"/>
                    <result column="CardCode" property="cardCode" jdbcType="NVARCHAR"/>
                    <result column="DocDate" property="docDate" jdbcType="DATE"/>
                    <result column="Note" property="note" jdbcType="NVARCHAR"/>
                    <result column="DocStatus" property="docStatus" jdbcType="CHAR"/><!---->
                    <result column="Deleted" property="deleted" jdbcType="VARCHAR"/> <!---->
                    <result column="IsSync" property="isSync" jdbcType="VARCHAR"/><!---->
                    <result column="SyncDate" property="createDate" jdbcType="DATE"/>
                    <result column="SAPDocEntry" property="sAPDocEntry" jdbcType="VARCHAR"/>
                    <result column="BillNo" property="billNo" jdbcType="VARCHAR"/>
                    <result column="LogisticsNo" property="logisticsNo" jdbcType="VARCHAR"/>
                    <result column="BaseEntry" property="baseDocEntry" jdbcType="VARCHAR"/>
                    <result column="BaseType" property="baseDocType" jdbcType="VARCHAR"/>
                    <result column="Extend1" property="extend1" jdbcType="VARCHAR"/>
                    <result column="Extend2" property="extend2" jdbcType="VARCHAR"/>
                    <result column="Extend3" property="extend3" jdbcType="VARCHAR"/>
                    <result column="Extend4" property="extend4" jdbcType="VARCHAR"/>
                    <result column="Extend5" property="extend5" jdbcType="VARCHAR"/>
                    <result column="Creator" property="creator" jdbcType="VARCHAR"/>
                    <result column="CreateDate" property="createDate" jdbcType="DATE"/>
                    <result column="CreateTime" property="createTime" jdbcType="INTEGER"/>
         </resultMap>
         <resultMap id="SalesDeliveryLineMap" type="com.avatech.edi.salesdeliveries.model.bo.salesdelivery.SalesDeliveryLine">
                    <result column="DocEntry" property="docEntry" jdbcType="INTEGER"/>
                    <result column="LineId" property="lineId" jdbcType="INTEGER"/>
                    <result column="BaseEntry" property="baseDocEntry" jdbcType="NVARCHAR"/>
                    <result column="BaseType" property="baseDocType" jdbcType="INTEGER"/>
                    <result column="BaseLineNum" property="baseLineNum" jdbcType="INTEGER"/>
                    <result column="ItemCode" property="itemCode" jdbcType="NVARCHAR"/>
                    <result column="CodeBars" property="codeBars" jdbcType="NVARCHAR"/>
                    <result column="Quantity" property="quantity" jdbcType="DECIMAL"/>
                    <result column="Price" property="price" jdbcType="INTEGER"/>
                    <result column="WhsCode" property="warehouse" jdbcType="NVARCHAR"/>
                    <result column="Extend1" property="extend1" jdbcType="NVARCHAR"/>
                    <result column="Extend2" property="extend2" jdbcType="NVARCHAR"/>
                    <result column="Extend3" property="extend3" jdbcType="NVARCHAR"/>
                    <result column="Extend4" property="extend4" jdbcType="NVARCHAR"/>
                    <result column="Extend5" property="extend5" jdbcType="NVARCHAR"/>
         </resultMap>


         <insert id="insertSalesDelivery" parameterType="com.avatech.edi.salesdeliveries.model.bo.salesdelivery.SalesDelivery">
             INSERT INTO "AVA_SM_ODLN" (
                     "DocEntry",
                     "CardCode",
                     "DocDate",
                     "Note",
                     "DocStatus",
                     "Deleted",
                     "IsSync",
                     "SyncDate",
                     "SAPDocEntry",
                     "BillNo",
                     "LogisticsNo",
                     "BaseEntry",
                     "BaseType",
                     "Extend1",
                     "Extend2",
                     "Extend3",
                     "Extend4",
                     "Extend5",
                     "Creator",
                     "CreateDate",
                     "CreateTime"
              )
             values(
                      #{docEntry},
                      #{cardCode},
                      #{docDate},
                      #{note},
                      #{docStatus},
                      #{deleted},
                      #{isSync},
                      #{createDate},
                      #{sAPDocEntry},
                      #{billNo},
                      #{logisticsNo},
                      #{baseDocEntry},
                      #{baseDocType},
                      #{extend1},
                      #{extend2},
                      #{extend3},
                      #{extend4},
                      #{extend5},
                      #{creator},
                      #{createDate},
                      #{createTime}
             )
         </insert>

         <select id="searchSalesDeliverys" resultMap="SalesDeliveryMap">
              SELECT
                     T0."DocEntry",
                     T0."CardCode",
                     T0."DocDate",
                     T0."Comments" as "Note",
                     T0."DocStatus",
                     '' "Deleted",
                     '' "IsSync",
                     '' "SyncDate ,jdbcType=DATE",
                     '' "SAPDocEntry",
                     '' "BillNo",
                     T0."U_LogisticsNo",
                     '' "BaseEntry",
                     '' "BaseType",
                     '' "Extend1",
                     '' "Extend2",
                     '' "Extend3",
                     '' "Extend4",
                     '' "Extend5",
                     '' "Creator",
                     '' "CreateDate,jdbcType=DATE",
                     '' "CreateTime,jdbcType=DATE"
             from "ODLN" T0
--               where  "DocStatus"='c'
--               where "U_IsSync"='N'
         </select>

         <insert id="insertSalesDeliveryLine" parameterType="com.avatech.edi.salesdeliveries.model.bo.salesdelivery.SalesDeliveryLine">
             INSERT INTO "AVA_SM_DLN1" (
                     "DocEntry",
                     "LineId",
                     "BaseEntry",
                     "BaseType",
                     "BaseLineNum",
                     "ItemCode",
                     "CodeBars",
                     "Quantity",
                     "Price",
                     "WhsCode",
                     "Extend1",
                     "Extend2",
                     "Extend3",
                     "Extend4",
                     "Extend5"
              )
             values(
                      #{docEntry},
                      #{lineId},
                      #{baseDocEntry},
                      #{baseDocType},
                      #{baseLineNum},
                      #{itemCode},
                      #{codeBars},
                      #{quantity},
                      #{price},
                      #{warehouse},
                      #{extend1},
                      #{extend2},
                      #{extend3},
                      #{extend4},
                      #{extend5}
             )
         </insert>

         <select id="searchSalesDeliveryLine" resultMap="SalesDeliveryLineMap">
             SELECT
                     T0."DocEntry",
                     T0."LineId",
                     T0."BaseEntry",
                     T0."BaseType",
                     T0."BaseLineNum",
                     T0."ItemCode",
                     T0."CodeBars",
                     T0."Quantity",
                     T0."Price",
                     T0."WhsCode",
                     T0."Extend1",
                     T0."Extend2",
                     T0."Extend3",
                     T0."Extend4",
                     T0."Extend5"
             from "AVA_SM_DLN1" T0
         </select>

</mapper>